function UC_AppToolBox(n){var t,r,u,f,i;this.setSDT_Page=function(n){this.SDT_Page=n};this.getSDT_Page=function(){return this.SDT_Page};this.setSDT_Pages=function(n){this.SDT_Pages=n};this.getSDT_Pages=function(){return this.SDT_Pages};this.setSDT_ProductServiceCollection=function(n){this.SDT_ProductServiceCollection=n};this.getSDT_ProductServiceCollection=function(){return this.SDT_ProductServiceCollection};this.setBC_Trn_TemplateCollection=function(n){this.BC_Trn_TemplateCollection=n};this.getBC_Trn_TemplateCollection=function(){return this.BC_Trn_TemplateCollection};this.setBC_Trn_ThemeCollection=function(n){this.BC_Trn_ThemeCollection=n};this.getBC_Trn_ThemeCollection=function(){return this.BC_Trn_ThemeCollection};this.setBC_Trn_MediaCollection=function(n){this.BC_Trn_MediaCollection=n};this.getBC_Trn_MediaCollection=function(){return this.BC_Trn_MediaCollection};this.setBC_Trn_Location=function(n){this.BC_Trn_Location=n};this.getBC_Trn_Location=function(){return this.BC_Trn_Location};t='<!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>--><script src="/Resources/UCGrapes1/src/utils/data-mapper.js"><\/script><div class="preloader" id="preloader"><div class="spinner"><\/div><\/div><div id="tb-body">    <div class="tb-navbar">    <h3 id="navbar_title">    <\/h3>    <div class="navbar-buttons">      <div class="edit-actions">        <button class="btn-transparent" id="undo" title="Undo (ctrl+z)">          <span class="fa fa-undo">          <\/span>        <\/button>        <button class="btn-transparent" id="redo" title="Redo (ctrl+shift+z)">          <span class="fa fa-redo">          <\/span>        <\/button>      <\/div>      <div class="tb-custom-theme-selection">        <!--<select class="tb-form-control" name="theme" id="theme-select"><\/select>-->        <button class="theme-select-button" aria-haspopup="listbox" aria-expanded="false">          <span class="selected-theme-value">            Select Theme          <\/span>        <\/button>      <\/div>      <button id="open-mapping" class="tb-btn tb-btn-outline">        <svg xmlns="http://www.w3.org/2000/svg" width="18.818" height="16" viewBox="0 0 18.818 18">          <path id="Path_993" data-name="Path 993" d="M19.545,5a3.283,3.283,0,0,0-3.273,3.273A3.228,3.228,0,0,0,16.784,10l-2.541,3.177H10.427a3.273,3.273,0,1,0,0,1.636h3.816L16.784,18a3.229,3.229,0,0,0-.511,1.732,3.273,3.273,0,1,0,3.273-3.273,3.207,3.207,0,0,0-1.563.419L15.685,14l2.3-2.873a3.207,3.207,0,0,0,1.563.419,3.273,3.273,0,0,0,0-6.545Zm0,1.636a1.636,1.636,0,1,1-1.636,1.636A1.623,1.623,0,0,1,19.545,6.636ZM7.273,12.364A1.636,1.636,0,1,1,5.636,14,1.623,1.623,0,0,1,7.273,12.364Zm12.273,5.727a1.636,1.636,0,1,1-1.636,1.636A1.623,1.623,0,0,1,19.545,18.091Z"          transform="translate(-4 -5)" />        <\/svg>        <span id="navbar_tree_label">        <\/span>      <\/button>      <button id="publish" class="tb-btn tb-btn-primary">        <svg xmlns="http://www.w3.org/2000/svg" width="13" height="16" viewBox="0 0 13 18">          <path id="Path_958" data-name="Path 958" d="M13.5,3.594l-.519.507L7.925,9.263l1.038,1.06,3.814-3.9V18.644h1.444V6.429l3.814,3.9,1.038-1.06L14.019,4.1ZM7,20.119v1.475H20V20.119Z"          transform="translate(-7 -3.594)" fill="#fff" />        <\/svg>        <span id="navbar_publish_label">        <\/span>      <\/button>    <\/div>  <\/div>  <div class="tb-container">    <div class="main-content">      <div class="navigator page-navigator-left" style="display:none">\t\t\t<span id="scroll-left"><i class="fa fa-arrow-left-long"><\/i><\/span>      <\/div>      <div class="frame-list" id="child-container">      <\/div>      <div class="navigator page-navigator-right" style="display:none">        <span id="scroll-right"><i class="fa fa-arrow-right-long"><\/i><\/span>      <\/div>    <\/div>    <div class="sidebar sidebar-right">      <div id="tools-section">        <div class="tb-tabs">          <button id="pages-button" class="tb-tab-button active" data-tab="pages">            <span id="sidebar_tabs_pages_label">            <\/span>          <\/button>          <button id="templates-button" class="tb-tab-button" data-tab="templates">            <span id="sidebar_tabs_templates_label">            <\/span>          <\/button>        <\/div>        <div class="tb-tab-content active-tab" id="pages-content">          <div id="menu-page-section">            <div class="sidebar-section theme-section" style="padding-top: 0">              <div class="color-palette" id="theme-color-palette">              <\/div>\t\t  <div class="tile-img-section">\t\t\t<div class="bg-section">\t\t\t<button class="add-image" id="image-bg">\t\t\t\t<span class="plus">\t\t\t\t<i class="fa fa-plus">\t\t\t\t<\/i>\t\t\t\t<\/span>\t\t\t\t<span class="image-icon">\t\t\t\t<i class="fa fa-image">\t\t\t\t<\/i>\t\t\t\t<\/span>\t\t\t<\/button>\t\t\t<div class="percentage-wrapper">\t\t\t\t<input type="number" id="bg-opacity" class="percentage-input" value="100"\t\t\t\tmin="0" max="100" oninput="if (this.value > 100) this.value = 100; if (this.value < 0) this.value = 0;">\t\t\t\t<span class="percentage-sign">\t\t\t\t%\t\t\t\t<\/span>\t\t\t<\/div>\t\t\t<\/div>\t\t\t<div class="tile-img-container" id="tile-img-container">\t\t\t\t<img src="" alt="Thumbnail" id="tile-img-thumbnail" class="tile-img-thumbnail" />\t\t\t\t<button id="tile-img-delete-button" class="tile-img-delete-button"><i class="fa fa-xmark"><\/i><\/button>\t\t\t<\/div>\t\t  <\/div>            <\/div>            <div class="sidebar-section title-section">              <input type="text" class="tb-form-control" id="tile-title" placeholder="Enter title"              />              <div class="title-style">                <div class="text-color-palette text-colors" id="text-color-palette">                <\/div>                <div class="text-alignment">                  <div class="align-item">                    <input type="radio" id="text-align-left" name="alignment" value="left"                    />                    <label for="text-align-left" class="fas fa-align-left">                    <\/label>                  <\/div>                  <div class="align-item">                    <input type="radio" id="text-align-center" name="alignment" value="center"                    />                    <label for="text-align-center" class="fas fa-align-center">                    <\/label>                  <\/div>                  <div class="align-item">                    <input type="radio" id="text-align-right" name="alignment" value="right"                    />                    <label for="text-align-right" class="fas fa-align-right">                    <\/label>                  <\/div>                <\/div>              <\/div>            <\/div>            <div class="sidebar-section custom-select-container" id="select-container">              <div class="tb-dropdown">                <div class="tb-dropdown-header" id="selectedOption">                  <span id="sidebar_select_action_label">                  <\/span>                  <i class="fa fa-angle-down">                  <\/i>                <\/div>                <div class="tb-dropdown-menu" id="dropdownMenu">                <\/div>              <\/div>            <\/div>            <div class="sidebar-section services-section">              <div class="tb-custom-category-selection">                <button class="category-select-button" aria-haspopup="listbox" aria-expanded="false">                  <span class="selected-category-value">                    General                  <\/span>                <\/button>              <\/div>              <div id="icons-list" class="icons-list">              <\/div>              <div class="title-style">                <div class="text-color-palette icon-colors" id="icon-color-palette">                <\/div>                <div class="text-alignment">                  <div class="align-item">                    <input type="radio" id="icon-align-left" name="icon-alignment" value="left"                    />                    <label for="icon-align-left" class="fas fa-align-left">                    <\/label>                  <\/div>                  <div class="align-item">                    <input type="radio" id="icon-align-center" name="icon-alignment" value="center"                    />                    <label for="icon-align-center" class="fas fa-align-center">                    <\/label>                  <\/div>                  <div class="align-item">                    <input type="radio" id="icon-align-right" name="icon-alignment" value="right"                    />                    <label for="icon-align-right" class="fas fa-align-right">                    <\/label>                  <\/div>                <\/div>              <\/div>            <\/div>          <\/div>          <div class="sidebar-section content-page-section" id="content-page-section"          style="display:none;">            <div class="cta-button-layout-container">              <button class="tb-btn cta-button-layout" id="plain-button-layout">                Button              <\/button>              <button class="tb-btn cta-button-layout" id="img-button-layout">                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40.999 28.865">                  <path id="Path_1040" data-name="Path 1040" d="M21.924,11.025a3.459,3.459,0,0,0-3.287,3.608,3.459,3.459,0,0,0,3.287,3.608,3.459,3.459,0,0,0,3.287-3.608A3.459,3.459,0,0,0,21.924,11.025ZM36.716,21.849l-11.5,14.432-8.218-9.02L8.044,39.89h41Z"                  transform="translate(-8.044 -11.025)" fill="#4c5357" />                <\/svg>                Button              <\/button>            <\/div>            <div id="call-to-actions">            <\/div>            <div class="cta-style">              <div class="text-color-palette text-colors" id="cta-color-palette">              <\/div>              <div class="text-alignment">                <div class="align-item">                  <input type="radio" id="cta-align-left" name="alignment" value="left"                  />                  <label for="cta-align-left" class="fas fa-align-left">                  <\/label>                <\/div>                <div class="align-item">                  <input type="radio" id="cta-align-center" name="alignment" value="center"                  />                  <label for="cta-align-center" class="fas fa-align-center">                  <\/label>                <\/div>                <div class="align-item">                  <input type="radio" id="cta-align-right" name="alignment" value="right"                  />                  <label for="cta-align-right" class="fas fa-align-right">                  <\/label>                <\/div>              <\/div>            <\/div>          <\/div>        <\/div>        <div class="tb-tab-content" id="templates-content">          <div class="sidebar-section" id="page-templates">          <\/div>        <\/div>      <\/div>      <div id="mapping-section" style="display: none;">        <div class="mapping-header">          <h3>            <span id="sidebar_mapping_title">            <\/span>          <\/h3>        <\/div>        <div class="sidebar-section">          <div class="page-form" id="page-form">            <input type="text" class="add-page-input" id="page-title" placeholder="Page name..."            />            <button class="submit-button add-page-button" id="page-submit">              Add            <\/button>          <\/div>\t    <div class="mapping-sub-title">\t\t<h5 id="current-page-title">\t\t\tHOME\t\t<\/h5>\t\t<span id="list-all-pages">Show all pages<\/span>\t\t<span id="hide-pages">Hide pages<\/span>\t    <\/div>          <div id="tree-container" class="tb-list-container">          <\/div>        <\/div>      <\/div>    <\/div>    <div class="alerts-container" id="alerts-container">    <\/div>    <div class="context-menu" id="contextMenu">      <ul>        <li data-card-id="1" id="delete-bg-image">          Delete image        <\/li>        <\/ul>    <\/div>  <\/div>   <!--<script src="/Resources/UCGrapes1/src/classes/Clock.js">  <\/script>  <script src="/Resources/UCGrapes1/src/classes/LoadingManager.js">  <\/script>  <script src="/Resources/UCGrapes1/src/classes/Locale.js">  <\/script>  <script src="/Resources/UCGrapes1/src/classes/DataManager.js">  <\/script>  <script src="/Resources/UCGrapes1/src/classes/EditorManager.js">  <\/script>  <script src="/Resources/UCGrapes1/src/classes/EditorEventManager.js">  <\/script>  <script src="/Resources/UCGrapes1/src/classes/TemplateManager.js">  <\/script>  <script src="/Resources/UCGrapes1/src/classes/ToolboxManager.js">  <\/script>  <script src="/Resources/UCGrapes1/src/classes/EventListenerManager.js">  <\/script>  <script src="/Resources/UCGrapes1/src/classes/PageManager.js">  <\/script>  <script src="/Resources/UCGrapes1/src/classes/PopupManager.js">  <\/script>  <script src="/Resources/UCGrapes1/src/classes/ThemeManager.js">  <\/script>  <script src="/Resources/UCGrapes1/src/classes/ToolBoxUI.js">  <\/script>  <script src="/Resources/UCGrapes1/src/classes/UndoRedoManager.js">  <\/script>  <script src="/Resources/UCGrapes1/src/components/ActionListComponent.js">  <\/script>  <script src="/Resources/UCGrapes1/src/components/MappingComponent.js">  <\/script>  <script src="/Resources/UCGrapes1/src/components/MediaComponent.js">  <\/script>  <script src="/Resources/UCGrapes1/src/classes/ImageCropper.js">  <\/script>  <script src="/Resources/UCGrapes1/src/utils/defaults.js">  <\/script>  <script src="/Resources/UCGrapes1/src/utils/data-mapper.js">  <\/script>  <script src="/Resources/UCGrapes1/src/utils/helper.js">  <\/script> -->    <script src="/Resources/UCGrapes1/src/combined.js">  <\/script><\/div>';r={};Mustache.parse(t);u=0;this.show=function(){f=n(this.getContainerControl());u=0;this.setHtml(Mustache.render(t,this,r));this.renderChildContainers();n(this.getContainerControl()).find("[data-event='OnSave']").on("save",this.onOnSaveHandler.closure(this)).each(function(n){this.setAttribute("data-items-index",n+1)});this.Start()};this.Scripts=[];this.Start=function(){console.log(this.LocationId,this.OrganisationId);const u=this.SDT_Pages,f=this.BC_Trn_TemplateCollection.map(n=>({id:n.Trn_TemplateId,label:n.Trn_TemplateName,media:n.Trn_TemplateMedia,content:n.Trn_TemplateContent.split(",").map(n=>parseInt(n))})),e=this.BC_Trn_ThemeCollection.map(n=>{let t={id:n.Trn_ThemeId,name:n.Trn_ThemeName,fontFamily:n.Trn_ThemeFontFamily,colors:{},icons:n.Icon};return n.Color.forEach(n=>{t.colors[n.ColorName]=n.ColorCode}),t}),o=this.Current_Language.toLowerCase();let n;(async()=>{n=new Locale(o),await n.loadTranslations(),n.setLanguage(),n.translateUCStrings()})();const t=new DataManager(this.SDT_ProductServiceCollection,this.BC_Trn_MediaCollection);t.LocationId=this.LocationId;t.OrganisationId=this.OrganisationId;t.Location=this.BC_Trn_Location;const i=new EditorManager(t,n),r=new ToolBoxManager(i,t,e,iconsData,f,u,this.BC_Trn_MediaCollection,n);i.setToolsSection(r);i.editorManager=i;r.editorManager=i};this.onOnSaveHandler=function(t){if(t){var i=t.currentTarget;t.preventDefault();this.SDT_PageCurrentIndex=parseInt(n(i).attr("data-items-index"),10)||1;this.SDT_PagesCurrentIndex=parseInt(n(i).attr("data-items-index"),10)||1;this.SDT_ProductServiceCollectionCurrentIndex=parseInt(n(i).attr("data-items-index"),10)||1;this.BC_Trn_TemplateCollectionCurrentIndex=parseInt(n(i).attr("data-items-index"),10)||1;this.BC_Trn_ThemeCollectionCurrentIndex=parseInt(n(i).attr("data-items-index"),10)||1;this.BC_Trn_MediaCollectionCurrentIndex=parseInt(n(i).attr("data-items-index"),10)||1;this.BC_Trn_LocationCurrentIndex=parseInt(n(i).attr("data-items-index"),10)||1}this.OnSave&&this.OnSave()};this.autoToggleVisibility=!0;i={};this.renderChildContainers=function(){f.find("[data-slot][data-parent='"+this.ContainerName+"']").each(function(t,r){var e=n(r),f=e.attr("data-slot"),u;u=i[f];u||(u=this.getChildContainer(f),i[f]=u,u.parentNode.removeChild(u));e.append(u);n(u).show()}.closure(this))}}